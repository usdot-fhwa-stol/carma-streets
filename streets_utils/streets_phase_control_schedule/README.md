# Streets Phase Control Schedule Command library
## Introduction
This CARMA-streets library is meat to handle JSON serialization and deserialization for external phase control schedule message generated by [MMITSS Roadside Processor] (https://github.com/mmitss/mmitss-az), and a sample phase control message refers to https://github.com/mmitss/mmitss-az/tree/master/src/mrp/traffic-controller-interface.

## Phase Control Schedule
External MMITSS Roadside processor will communicate with CARMA Streets TSC service via Kafka Message Broker, and send the phase control schedule to the TSC service. Thereafter, the TSC service converts the phase control schedule to SNMP commands and communicate with Traffic Signal Controller to update the controller signal phase and schedule.
### Parameter description
| Prameter Name    | Data Type        | Description |
| -------------    | -------------    | ----------- |
| commandPhase     | Integer          | Traffic Singal Controller phase |
| commandType      | Enumeration      | Current supported phase control types: `omit_veh`, `omit_ped`, `hold`, `forceoff`, `call_veh`, `call_ped` |
| commandStartTime | Unsigned integer | The start epoch time in millisecond of the command execution |
| commandEndTime   | Unsigned integer | The end epoch time in millisecond of the command execution |

Note: When a clear schedule is received, the commands are cleared from the phase control schedule.

## Including library
```
find_package( streets_phase_control_schedule_lib REQUIRED )
...
target_link_libraries( <target> PUBLIC streets_phase_control_schedule_lib )
```
